{% extends 'base.html' %} {% block content %}

<svg xmlns="http://www.w3.org/2000/svg" class="d-none">
    <symbol id="bootstrap" viewBox="0 0 118 94">
        <path fill-rule="evenodd" clip-rule="evenodd"
            d="M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z">
        </path>
    </symbol>
    <symbol id="home" viewBox="0 0 16 16">
        <path
            d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z" />
    </symbol>
    <symbol id="speedometer2" viewBox="0 0 16 16">
        <path
            d="M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4zM3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 10a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 10zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 9.31a.91.91 0 1 0 1.302 1.258l3.434-4.297a.389.389 0 0 0-.029-.518z" />
        <path fill-rule="evenodd"
            d="M0 10a8 8 0 1 1 15.547 2.661c-.442 1.253-1.845 1.602-2.932 1.25C11.309 13.488 9.475 13 8 13c-1.474 0-3.31.488-4.615.911-1.087.352-2.49.003-2.932-1.25A7.988 7.988 0 0 1 0 10zm8-7a7 7 0 0 0-6.603 9.329c.203.575.923.876 1.68.63C4.397 12.533 6.358 12 8 12s3.604.532 4.923.96c.757.245 1.477-.056 1.68-.631A7 7 0 0 0 8 3z" />
    </symbol>
    <symbol id="table" viewBox="0 0 16 16">
        <path
            d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z" />
    </symbol>
    <symbol id="trophy" viewBox="0 0 16 16">
        <path
            d="M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5q0 .807-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33 33 0 0 1 2.5.5m.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935m10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935M3.504 1q.01.775.056 1.469c.13 2.028.457 3.546.87 4.667C5.294 9.48 6.484 10 7 10a.5.5 0 0 1 .5.5v2.61a1 1 0 0 1-.757.97l-1.426.356a.5.5 0 0 0-.179.085L4.5 15h7l-.638-.479a.5.5 0 0 0-.18-.085l-1.425-.356a1 1 0 0 1-.757-.97V10.5A.5.5 0 0 1 9 10c.516 0 1.706-.52 2.57-2.864.413-1.12.74-2.64.87-4.667q.045-.694.056-1.469z" />
    </symbol>
    <symbol id="grid" viewBox="0 0 16 16">
        <path
            d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z" />
    </symbol>
    <symbol id="film" viewBox="0 0 16 16">
        <path
            d="M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1zm4 0v6h8V1zm8 8H4v6h8zM1 1v2h2V1zm2 3H1v2h2zM1 7v2h2V7zm2 3H1v2h2zm-2 3v2h2v-2zM15 1h-2v2h2zm-2 3v2h2V4zm2 3h-2v2h2zm-2 3v2h2v-2zm2 3h-2v2h2z" />
    </symbol>
    <symbol id="user" viewBox="0 0 16 16">
        <path
            d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5" />
    </symbol>
    <symbol id="calendar" viewBox="0 0 16 16">
        <path
            d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z" />
        <path
            d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z" />
    </symbol>
    <symbol id="newspaper" viewBox="0 0 16 16">
        <path
            d="M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5z" />
        <path
            d="M2 3h10v2H2zm0 3h4v3H2zm0 4h4v1H2zm0 2h4v1H2zm5-6h2v1H7zm3 0h2v1h-2zM7 8h2v1H7zm3 0h2v1h-2zm-3 2h2v1H7zm3 0h2v1h-2zm-3 2h2v1H7zm3 0h2v1h-2z" />
    </symbol>
    <symbol id="checklist" viewBox="0 0 16 16">
        <path
            d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5z" />
        <path
            d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5z" />
        <path
            d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0z" />
    </symbol>
    <symbol id="stats" viewBox="0 0 16 16">
        <path
            d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1z" />
    </symbol>
    <symbol id="people" viewBox="0 0 16 16">
        <path d="M8 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" />
        <path
            d="m5.93 6.704-.846 8.451a.768.768 0 0 0 1.523.203l.81-4.865a.59.59 0 0 1 1.165 0l.81 4.865a.768.768 0 0 0 1.523-.203l-.845-8.451A1.5 1.5 0 0 1 10.5 5.5L13 2.284a.796.796 0 0 0-1.239-.998L9.634 3.84a.7.7 0 0 1-.33.235c-.23.074-.665.176-1.304.176-.64 0-1.074-.102-1.305-.176a.7.7 0 0 1-.329-.235L4.239 1.286a.796.796 0 0 0-1.24.998l2.5 3.216c.317.316.475.758.43 1.204Z" />
    </symbol>
    <symbol id="support" viewBox="0 0 16 16">
        <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247m2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z" />
    </symbol>
</svg>
<div class="container">
    <div class="row p-0">
        <!-- SideBar -->
        <div class="col-1 p-0 border-right border-primary">
            <ul class="nav nav-pills nav-flush flex-column mb-auto text-center p-0" id="pills-tab">
                <li>
                    <a class="nav-link py-3 border-bottom rounded-0" href="#dash" title="Dash" data-bs-toggle="pill"
                        data-bs-target="#dash">
                        <svg class="bi pe-none" width="24" height="24" role="img" aria-label="Dash">
                            <use xlink:href="#speedometer2" />
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="nav-link py-3 border-bottom rounded-0" href="#reports" title="Manage Reports"
                        data-bs-toggle="pill" data-bs-target="#reports">
                        <svg class="bi pe-none" width="24" height="24" role="img" aria-label="Reports">
                            <use xlink:href="#checklist" />
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="nav-link py-3 border-bottom rounded-0" href="#events" title="Manage Events"
                        data-bs-toggle="pill" data-bs-target="#events">
                        <svg class="bi pe-none" width="24" height="24" role="img" aria-label="Events">
                            <use xlink:href="#calendar" />
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="nav-link py-3 border-bottom rounded-0" href="#users" title="Manage Users"
                        data-bs-toggle="pill" data-bs-target="#users">
                        <svg class="bi pe-none" width="24" height="24" role="img" aria-label="Users">
                            <use xlink:href="#user" />
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="nav-link py-3 border-bottom rounded-0" href="#news" title="Manage News"
                        data-bs-toggle="pill" data-bs-target="#news">
                        <svg class="bi pe-none" width="24" height="24" role="img" aria-label="News">
                            <use xlink:href="#newspaper" />
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="nav-link py-3 border-bottom rounded-0" href="#achievements" title="Manage Achievements"
                        data-bs-toggle="pill" data-bs-target="#achievements">
                        <svg class="bi pe-none" width="24" height="24" role="img" aria-label="Achievements">
                            <use xlink:href="#trophy" />
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="nav-link py-3 border-bottom rounded-0" href="#media" title="Manage Media"
                        data-bs-toggle="pill" data-bs-target="#media">
                        <svg class="bi pe-none" width="24" height="24" role="img" aria-label="Media">
                            <use xlink:href="#film" />
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="nav-link py-3 border-bottom rounded-0" href="#statistics" title="Statistics"
                        data-bs-toggle="pill" data-bs-target="#statistics">
                        <svg class="bi pe-none" width="24" height="24" role="img" aria-label="Statistics">
                            <use xlink:href="#stats" />
                        </svg>
                    </a>
                </li>
                <li>
                    <a class="nav-link py-3 border-bottom rounded-0" href="#attendance" title="Attendance Events"
                        data-bs-toggle="pill" data-bs-target="#attendance">
                        <svg class="bi pe-none" width="24" height="24" role="img" aria-label="Attendance Events">
                            <use xlink:href="#people" />
                        </svg>
                    </a>
                </li>
		     <div class="dropdown border-top mt-auto">
                <img src="static/img/user_8963496.png" alt="admin" width="24" height="24" class="rounded-circle">
                <!-- Si besoin d'un lien vers le profil, ajoutez-le ici -->
            </div>
            </ul>
           
        </div>
        <!-- Content -->
        <div class="col-11">
            <!-- Flash msg 
         {% with messages = get_flashed_messages(with_categories=true) %} 
            {% if messages %} {% for category, message in messages %} 
                <div class="alert alert-{{ category }}" role="alert"> {{ message }} </div> 
                {% endfor %} 
            {% endif %}
         {% endwith %} -->
            <div class="container ">
                <div class="row pt-3">
                    <div class="col-12">
                        <!-- Section Dash -->
                        <div id="dash" class="content-section scrollable-section  d-none">
                            <div class="container">
                                <h3 class="mb-4">WELCOME TO DASHBOARD</h3>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="card bg-light mb-4">
                                            <div class="card-body">
                                                <h5 class="card-title">Manage Reports</h5>
                                                <p class="card-text">Use this section to create, update, and delete
                                                    reports. Each report includes a title, date, and content.</p>
                                            </div>
                                        </div>
                                        <div class="card bg-light mb-4">
                                            <div class="card-body">
                                                <h5 class="card-title">Manage Events</h5>
                                                <p class="card-text">This section allows you to manage upcoming events.
                                                    You can add, update, or delete events and mark attendance.</p>
                                            </div>
                                        </div>
                                        <div class="card bg-light mb-4">
                                            <div class="card-body">
                                                <h5 class="card-title">Manage Users</h5>
                                                <p class="card-text">In this section, you can manage user accounts.
                                                    Create new users, update user details, and manage admin rights.</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="card bg-light mb-4">
                                            <div class="card-body">
                                                <h5 class="card-title">Manage News</h5>
                                                <p class="card-text">Use this section to post news articles. Add new
                                                    articles, update existing ones, and delete old articles.</p>
                                            </div>
                                        </div>
                                        <div class="card bg-light mb-4">
                                            <div class="card-body">
                                                <h5 class="card-title">Manage Achievements</h5>
                                                <p class="card-text">This section is for tracking achievements. Record
                                                    new achievements, update details, and manage related information.
                                                </p>
                                            </div>
                                        </div>
                                        <div class="card bg-light mb-4">
                                            <div class="card-body">
                                                <h5 class="card-title">Manage Media</h5>
                                                <p class="card-text">Upload and manage media files such as images and
                                                    videos. Ensure all files are properly labeled and organized.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="card bg-light mb-4">
                                            <div class="card-body">
                                                <h5 class="card-title">Statistics</h5>
                                                <p class="card-text">View and analyze various statistics related to
                                                    events, user activity, and more. Use this section to get insights
                                                    and make data-driven decisions.</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="card bg-light mb-4">
                                            <div class="card-body">
                                                <h5 class="card-title">Attendance Events</h5>
                                                <p class="card-text">Track attendance for events. See who is attending
                                                    and manage attendee details.</p>
                                            </div>
                                        </div>
                                        <div class="card bg-light mb-4">
                                            <div class="card-body">
                                                <h5 class="card-title">Support</h5>
                                                <p class="card-text">If you have any questions or need further
                                                    assistance, please contact support.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <!-- Section Reports -->
                        <div id="reports" class="content-section scrollable-section d-none">
                            <div class="card mb-3">
                                <div class="card-header">
                                    <h2>Manage Reports <i class="fas fa-file-alt"></i>
                                    </h2>
                                </div>
                                <div class="card-body">
                                    <div class="accordion mb-2" id="accordionExample">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#collapseOne" aria-expanded="true"
                                                    aria-controls="collapseOne">
                                                    Add New Reports
                                                </button>
                                            </h2>
                                            <div id="collapseOne" class="accordion-collapse collapse show"
                                                data-bs-parent="#accordionExample">
                                                <div class="accordion-body">
													<form id="reports-form" method="post"
														action="{{ url_for('admin.create_report', section='report') }}">
														<div class="mb-3">
															<label for="create-title" class="form-label">Title</label>
															<input type="text" class="form-control" id="create-title" name="title"
																required>
														</div>
														<div class="mb-3">
															<label for="create-date" class="form-label">Date (YYYY-MM-DD)</label>
															<input type="date" class="form-control" id="create-date" name="date"
																required>
														</div>
														<div class="mb-3">
															<label for="create-content" class="form-label">Content</label>
															<textarea class="form-control" id="create-content" name="content"
																required></textarea>
														</div>
														<button type="submit" class="btn btn-primary">Add Report</button>
													</form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="table-responsive mt-4">
                                        <table id="reports-table" class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>Title</th>
                                                    <th>Date</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody> {% for report in reports.items %} <tr>
                                                    <td>{{ report.title }}</td>
                                                    <td>{{ report.date }}</td>
                                                    <td>
                                                        <button type="button" class="btn btn-sm btn-primary"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#updateModal{{ report.id }}"> Update
                                                        </button>
                                                        <form method="post"
                                                            action="{{ url_for('admin.delete_report', report_id=report.id, section='report') }}"
                                                            class="mt-2">
                                                            <button type="submit"
                                                                class="btn btn-sm btn-danger">Delete</button>
                                                        </form>
                                                    </td>
                                                </tr>
                                                <!-- Modal pour la mise à jour du rapport -->
                                                <div class="modal fade" id="updateModal{{ report.id }}" tabindex="-1"
                                                    aria-labelledby="updateModalLabel{{ report.id }}"
                                                    aria-hidden="true">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title"
                                                                    id="updateModalLabel{{ report.id }}">Update Report
                                                                </h5>
                                                                <button type="button" class="btn-close"
                                                                    data-bs-dismiss="modal" aria-label="Close"></button>
                                                            </div>
                                                            <form method="post"
                                                                action="{{ url_for('admin.update_report', report_id=report.id, section='report') }}">
                                                                <div class="modal-body">
                                                                    <div class="mb-3">
                                                                        <label for="update-title"
                                                                            class="form-label">Title</label>
                                                                        <input type="text" class="form-control"
                                                                            id="update-title" name="title"
                                                                            value="{{ report.title }}" required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="update-date" class="form-label">Date
                                                                            (YYYY-MM-DD)</label>
                                                                        <input type="date" class="form-control"
                                                                            id="update-date" name="date"
                                                                            value="{{ report.date }}" required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="update-content"
                                                                            class="form-label">Content</label>
                                                                        <textarea class="form-control"
                                                                            id="update-content" name="content"
                                                                            required>{{ report.content }}</textarea>
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button" class="btn btn-secondary"
                                                                        data-bs-dismiss="modal">Cancel</button>
                                                                    <button type="submit" class="btn btn-primary">Update
                                                                        Report</button>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div> {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- Pagination for reports -->
                                    <nav>
                                        <ul class="pagination"> {% if reports.has_prev %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_reports=reports.prev_num) }}">Previous</a>
                                            </li> {% endif %} {% for page_num in reports.iter_pages() %} <li
                                                class="page-item {% if page_num == reports.page %}active{% endif %}">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_reports=page_num) }}">{{
                                                    page_num }}</a>
                                            </li> {% endfor %} {% if reports.has_next %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_reports=reports.next_num) }}">Next</a>
                                            </li> {% endif %} </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <!-- Section Events -->
                        <div id="events" class="content-section scrollable-section d-none">
                            <div class="card mb-3">
                                <div class="card-header">
                                    <h2>Manage Events <i class="fas fa-calendar-alt"></i>
                                    </h2>
                                </div>
                                <div class="card-body">
                                    <div class="accordion mb-2" id="accordionExample">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#collapseOne" aria-expanded="true"
                                                    aria-controls="collapseOne">
                                                    Add New Events
                                                </button>
                                            </h2>
                                            <div id="collapseOne" class="accordion-collapse collapse show"
                                                data-bs-parent="#accordionExample">
                                                <div class="accordion-body">
                                                    <form id="events-form" method="post"
                                                        action="{{ url_for('admin.create_event', section='events') }}">
                                                        <div class="mb-3">
                                                            <label for="name" class="form-label">Name</label>
                                                            <input type="text" class="form-control" id="name" name="name" required>
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="date" class="form-label">Date</label>
                                                            <input type="date" class="form-control" id="date" name="date" required>
                                                        </div>
                                                        <button type="submit" class="btn btn-primary">Add Event</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="table-responsive mt-4">
                                        <table id="events-table" class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>Name</th>
                                                    <th>Date</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody> {% for event in events.items %} <tr>
                                                    <td>{{ event.name }}</td>
                                                    <td>{{ event.date }}</td>
                                                    <td>
                                                        <!-- Update Event Modal Trigger -->
                                                        <button type="button" class="btn btn-sm btn-primary"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#updateEventModal{{ event.id }}"> Update
                                                        </button>
                                                        <!-- Delete Event Form -->
                                                        <form method="post"
                                                            action="{{ url_for('admin.delete_event', event_id=event.id, section='events') }}"
                                                            class="d-inline">
                                                            <button type="submit"
                                                                class="btn btn-sm btn-danger">Delete</button>
                                                        </form>
                                                    </td>
                                                </tr>
                                                <!-- Update Event Modal -->
                                                <div class="modal fade" id="updateEventModal{{ event.id }}"
                                                    tabindex="-1" aria-labelledby="updateEventModalLabel{{ event.id }}"
                                                    aria-hidden="true">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title"
                                                                    id="updateEventModalLabel{{ event.id }}">Update
                                                                    Event</h5>
                                                                <button type="button" class="btn-close"
                                                                    data-bs-dismiss="modal" aria-label="Close"></button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <form method="post"
                                                                    action="{{ url_for('admin.update_event', event_id=event.id, section='events') }}">
                                                                    <div class="mb-3">
                                                                        <label for="name"
                                                                            class="form-label">Name</label>
                                                                        <input type="text" class="form-control"
                                                                            id="name" name="name"
                                                                            value="{{ event.name }}" required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="date"
                                                                            class="form-label">Date</label>
                                                                        <input type="date" class="form-control"
                                                                            id="date" name="date"
                                                                            value="{{ event.date }}" required>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Cancel</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Update
                                                                            Event</button>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div> {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- Pagination for events -->
                                    <nav>
                                        <ul class="pagination"> {% if events.has_prev %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_events=events.prev_num) }}">Previous</a>
                                            </li> {% endif %} {% for page_num in events.iter_pages() %} <li
                                                class="page-item {% if page_num == events.page %}active{% endif %}">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_events=page_num) }}">{{
                                                    page_num }}</a>
                                            </li> {% endfor %} {% if events.has_next %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_events=events.next_num) }}">Next</a>
                                            </li> {% endif %} </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <!-- section  User Form -->
                        <div id="users" class="content-section scrollable-section d-none">
                            <div class="card mb-3">
                                <div class="card-header">
                                    <h2>Manage Users <i class="fas fa-users"></i>
                                    </h2>
                                </div>
                                <div class="card-body">
                                    <div class="accordion mb-2" id="accordionExample">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#collapseOne" aria-expanded="true"
                                                    aria-controls="collapseOne">
                                                    Add New User
                                                </button>
                                            </h2>
                                            <div id="collapseOne" class="accordion-collapse collapse show"
                                                data-bs-parent="#accordionExample">
                                                <div class="accordion-body">
                                                    <!-- Form for creating a new user -->
                                                    <form id="users-form" method="post"
                                                        action="{{ url_for('admin.create_user', section='user') }}">
                                                        <div class="mb-3">
                                                            <label for="username" class="form-label">Username</label>
                                                            <input type="text" class="form-control" id="username" name="username"
                                                                required>
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="email" class="form-label">Email</label>
                                                            <input type="email" class="form-control" id="email" name="email" required>
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="password" class="form-label">Password</label>
                                                            <input type="password" class="form-control" id="password" name="password"
                                                                required>
                                                        </div>
                                                        <div class="mb-3 form-check">
                                                            <input type="checkbox" class="form-check-input" id="is_admin"
                                                                name="is_admin">
                                                            <label class="form-check-label" for="is_admin">Admin</label>
                                                        </div>
                                                        <button type="submit" class="btn btn-primary">Add User</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>                                    <!-- Table for displaying users -->
                                    <div class="table-responsive mt-4">
                                        <table id="users-table" class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>Username</th>
                                                    <th>Email</th>
                                                    <th>Admin</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody> {% for user in users.items %} <tr>
                                                    <td>{{ user.username }}</td>
                                                    <td>{{ user.email }}</td>
                                                    <td>{% if user.is_admin %} Yes {% else %} No {% endif %}</td>
                                                    <td>
                                                        <!-- Update User Modal Trigger -->
                                                        <button type="button" class="btn btn-sm btn-primary"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#updateUserModal{{ user.id }}"> Update
                                                        </button>
                                                        <!-- Delete User Form -->
                                                        <form method="post"
                                                            action="{{ url_for('admin.delete_user', user_id=user.id, section='user') }}"
                                                            class="d-inline">
                                                            <button type="submit"
                                                                class="btn btn-sm btn-danger">Delete</button>
                                                        </form>
                                                    </td>
                                                </tr>
                                                <!-- Update User Modal -->
                                                <div class="modal fade" id="updateUserModal{{ user.id }}" tabindex="-1"
                                                    aria-labelledby="updateUserModalLabel{{ user.id }}"
                                                    aria-hidden="true">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title"
                                                                    id="updateUserModalLabel{{ user.id }}">Update User
                                                                </h5>
                                                                <button type="button" class="btn-close"
                                                                    data-bs-dismiss="modal" aria-label="Close"></button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <form method="post"
                                                                    action="{{ url_for('admin.update_user', user_id=user.id, section='user') }}">
                                                                    <div class="mb-3">
                                                                        <label for="username"
                                                                            class="form-label">Username</label>
                                                                        <input type="text" class="form-control"
                                                                            id="username" name="username"
                                                                            value="{{ user.username }}" required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="email"
                                                                            class="form-label">Email</label>
                                                                        <input type="email" class="form-control"
                                                                            id="email" name="email"
                                                                            value="{{ user.email }}" required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="password" class="form-label">New
                                                                            Password</label>
                                                                        <input type="password" class="form-control"
                                                                            id="password" name="password" required>
                                                                    </div>
                                                                    <div class="mb-3 form-check">
                                                                        <input type="checkbox" class="form-check-input"
                                                                            id="is_admin" name="is_admin" {% if
                                                                            user.is_admin %} checked {% endif %}>
                                                                        <label class="form-check-label"
                                                                            for="is_admin">Admin</label>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Cancel</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Update User</button>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div> {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- Pagination for users -->
                                    <nav>
                                        <ul class="pagination"> {% if users.has_prev %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_users=users.prev_num) }}">Previous</a>
                                            </li> {% endif %} {% for page_num in users.iter_pages() %} <li
                                                class="page-item {% if page_num == users.page %}active{% endif %}">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_users=page_num) }}">{{
                                                    page_num }}</a>
                                            </li> {% endfor %} {% if users.has_next %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_users=users.next_num) }}">Next</a>
                                            </li> {% endif %} </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <!-- section news -->
                        <div id="news" class="content-section scrollable-section d-none">
                            <div class="card mb-3">
                                <div class="card-header">
                                    <h2>Manage News <i class="fas fa-newspaper"></i>
                                    </h2>
                                </div>
                                <div class="card-body">
                                    <div class="accordion mb-2" id="accordionExample">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#collapseOne" aria-expanded="true"
                                                    aria-controls="collapseOne">
                                                    Add New News
                                                </button>
                                            </h2>
                                            <div id="collapseOne" class="accordion-collapse collapse show"
                                                data-bs-parent="#accordionExample">
                                                <div class="accordion-body">
													<form id="news-form" method="post"
														action="{{ url_for('admin.create_news', section='news') }}">
														<div class="mb-3">
															<label for="news_title" class="form-label">Title</label>
															<input type="text" class="form-control" id="news_title" name="news_title"
																required>
														</div>
														<div class="mb-3">
															<label for="news_content" class="form-label">Content</label>
															<textarea class="form-control" id="news_content" name="news_content"
																required></textarea>
														</div>
														<button type="submit" class="btn btn-primary">Add News</button>
													</form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>                                    <div class="table-responsive mt-4">
                                        <table id="news-table" class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>Title</th>
                                                    <th>Content</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody> {% for news in news_list.items %} <tr>
                                                    <td>{{ news.title }}</td>
                                                    <td>{{ news.content }}</td>
                                                    <td>
                                                        <!-- Update News Modal Trigger -->
                                                        <button type="button" class="btn btn-sm btn-primary"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#updateNewsModal{{ news.id }}"> Update
                                                        </button>
                                                        <!-- Delete News Form -->
                                                        <form method="post"
                                                            action="{{ url_for('admin.delete_news', news_id=news.id, section='news') }}"
                                                            class="d-inline">
                                                            <button type="submit"
                                                                class="btn btn-sm btn-danger">Delete</button>
                                                        </form>
                                                    </td>
                                                </tr>
                                                <!-- Update News Modal -->
                                                <div class="modal fade" id="updateNewsModal{{ news.id }}" tabindex="-1"
                                                    aria-labelledby="updateNewsModalLabel{{ news.id }}"
                                                    aria-hidden="true">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title"
                                                                    id="updateNewsModalLabel{{ news.id }}">Update News
                                                                </h5>
                                                                <button type="button" class="btn-close"
                                                                    data-bs-dismiss="modal" aria-label="Close"></button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <form method="post"
                                                                    action="{{ url_for('admin.update_news', news_id=news.id, section='news') }}">
                                                                    <div class="mb-3">
                                                                        <label for="news_title"
                                                                            class="form-label">Title</label>
                                                                        <input type="text" class="form-control"
                                                                            id="news_title" name="news_title"
                                                                            value="{{ news.title }}" required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="news_content"
                                                                            class="form-label">Content</label>
                                                                        <textarea class="form-control" id="news_content"
                                                                            name="news_content"
                                                                            required>{{ news.content }}</textarea>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Cancel</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Update News</button>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div> {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- Pagination for news -->
                                    <nav>
                                        <ul class="pagination"> {% if news_list.has_prev %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_news=news_list.prev_num) }}">Previous</a>
                                            </li> {% endif %} {% for page_num in news_list.iter_pages() %} <li
                                                class="page-item {% if page_num == news_list.page %}active{% endif %}">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_news=page_num) }}">{{
                                                    page_num }}</a>
                                            </li> {% endfor %} {% if news_list.has_next %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_news=news_list.next_num) }}">Next</a>
                                            </li> {% endif %} </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <!-- section for achievements -->
                        <div id="achievements" class="content-section scrollable-section d-none">
                            <div class="card mb-3">
                                <div class="card-header">
                                    <h2>Manage Achievements <i class="fas fa-trophy"></i>
                                    </h2>
                                </div>

                                <div class="card-body">
                                    <div class="accordion mb-2" id="accordionExample">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#collapseOne" aria-expanded="true"
                                                    aria-controls="collapseOne">
                                                    Add new achievements
                                                </button>
                                            </h2>
                                            <div id="collapseOne" class="accordion-collapse collapse show"
                                                data-bs-parent="#accordionExample">
                                                <div class="accordion-body">
                                                    <form id="achievements-form" method="post"
                                                        action="{{ url_for('admin.create_achievement', section='achievements') }}">
                                                        <div class="container container-fluid">
                                                            <div class="row">


                                                                <div class="mb-1 col-4">
                                                                    <label for="name" class="form-label">Activity
                                                                        Name</label>
                                                                    <input type="text" class="form-control" id="name"
                                                                        name="name" required>
                                                                </div>
                                                                <div class="mb-1 col-4">
                                                                    <label for="start_date" class="form-label">Start
                                                                        Date</label>
                                                                    <input type="date" class="form-control"
                                                                        id="start_date" name="start_date" required>
                                                                </div>
                                                                <div class="mb-1 col-4">
                                                                    <label for="end_date" class="form-label">End
                                                                        Date</label>
                                                                    <input type="date" class="form-control"
                                                                        id="end_date" name="end_date" required>
                                                                </div>
                                                                <div class="mb-1 col-4">
                                                                    <label for="site" class="form-label">Site</label>
                                                                    <input type="text" class="form-control" id="site"
                                                                        name="site" required>
                                                                </div>
                                                                <div class="mb-1 col-4">
                                                                    <label for="objectives"
                                                                        class="form-label">Objectives</label>
                                                                    <textarea class="form-control" id="objectives"
                                                                        name="objectives" required></textarea>
                                                                </div>
                                                                <div class="mb-1 col-4">
                                                                    <label for="beneficiaries_kind"
                                                                        class="form-label">Beneficiaries Kind</label>
                                                                    <input type="text" class="form-control"
                                                                        id="beneficiaries_kind"
                                                                        name="beneficiaries_kind" required>
                                                                </div>
                                                                <div class="mb-1 col-4">
                                                                    <label for="beneficiaries_number"
                                                                        class="form-label">Beneficiaries Number</label>
                                                                    <input type="number" class="form-control"
                                                                        id="beneficiaries_number"
                                                                        name="beneficiaries_number" required>
                                                                </div>
                                                                <div class="mb-1 col-4">
                                                                    <label for="results_obtained" class="form-label">The
                                                                        Results Obtained</label>
                                                                    <textarea class="form-control" id="results_obtained"
                                                                        name="results_obtained" required></textarea>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <button type="submit" class="btn btn-primary">Add
                                                            Achievement</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="table-responsive mt-4">
                                        <table id="achievements-table" class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>Activity Name</th>
                                                    <th>Date (Start - End)</th>
                                                    <th>Site</th>
                                                    <th>Objectives</th>
                                                    <th>Beneficiaries Kind</th>
                                                    <th>Beneficiaries Number</th>
                                                    <th>The Results Obtained</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody> {% for achievement in achievements.items %} <tr>
                                                    <td>{{ achievement.name }}</td>
                                                    <td>{{ achievement.start_date }} - {{ achievement.end_date }}</td>
                                                    <td>{{ achievement.site }}</td>
                                                    <td>{{ achievement.objectives }}</td>
                                                    <td>{{ achievement.beneficiaries_kind }}</td>
                                                    <td>{{ achievement.beneficiaries_number }}</td>
                                                    <td>{{ achievement.results_obtained }}</td>
                                                    <td>
                                                        <!-- Update Achievement Modal Trigger -->
                                                        <button type="button" class="btn btn-sm btn-primary"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#updateAchievementModal{{ achievement.id }}">
                                                            Update </button>
                                                        <!-- Delete Achievement Form -->
                                                        <form method="post"
                                                            action="{{ url_for('admin.delete_achievement', achievement_id=achievement.id, section='achievements') }}"
                                                            class="d-inline">
                                                            <button type="submit"
                                                                class="btn btn-sm btn-danger">Delete</button>
                                                        </form>
                                                    </td>
                                                </tr>
                                                <!-- Update Achievement Modal -->
                                                <div class="modal fade" id="updateAchievementModal{{ achievement.id }}"
                                                    tabindex="-1"
                                                    aria-labelledby="updateAchievementModalLabel{{ achievement.id }}"
                                                    aria-hidden="true">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title"
                                                                    id="updateAchievementModalLabel{{ achievement.id }}">
                                                                    Update Achievement</h5>
                                                                <button type="button" class="btn-close"
                                                                    data-bs-dismiss="modal" aria-label="Close"></button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <form method="post"
                                                                    action="{{ url_for('admin.update_achievement', achievement_id=achievement.id, section='achievements') }}">
                                                                    <div class="mb-3">
                                                                        <label for="name" class="form-label">Activity
                                                                            Name</label>
                                                                        <input type="text" class="form-control"
                                                                            id="name" name="name"
                                                                            value="{{ achievement.name }}" required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="start_date" class="form-label">Start
                                                                            Date</label>
                                                                        <input type="date" class="form-control"
                                                                            id="start_date" name="start_date"
                                                                            value="{{ achievement.start_date }}"
                                                                            required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="end_date" class="form-label">End
                                                                            Date</label>
                                                                        <input type="date" class="form-control"
                                                                            id="end_date" name="end_date"
                                                                            value="{{ achievement.end_date }}" required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="site"
                                                                            class="form-label">Site</label>
                                                                        <input type="text" class="form-control"
                                                                            id="site" name="site"
                                                                            value="{{ achievement.site }}" required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="objectives"
                                                                            class="form-label">Objectives</label>
                                                                        <textarea class="form-control" id="objectives"
                                                                            name="objectives"
                                                                            required>{{ achievement.objectives }}</textarea>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="beneficiaries_kind"
                                                                            class="form-label">Beneficiaries
                                                                            Kind</label>
                                                                        <input type="text" class="form-control"
                                                                            id="beneficiaries_kind"
                                                                            name="beneficiaries_kind"
                                                                            value="{{ achievement.beneficiaries_kind }}"
                                                                            required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="beneficiaries_number"
                                                                            class="form-label">Beneficiaries
                                                                            Number</label>
                                                                        <input type="number" class="form-control"
                                                                            id="beneficiaries_number"
                                                                            name="beneficiaries_number"
                                                                            value="{{ achievement.beneficiaries_number }}"
                                                                            required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="results_obtained"
                                                                            class="form-label">The Results
                                                                            Obtained</label>
                                                                        <textarea class="form-control"
                                                                            id="results_obtained"
                                                                            name="results_obtained"
                                                                            required>{{ achievement.results_obtained }}</textarea>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Cancel</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Update
                                                                            Achievement</button>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div> {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- Pagination for achievements -->
                                    <nav>
                                        <ul class="pagination"> {% if achievements.has_prev %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_achievements=achievements.prev_num) }}"
                                                    data-target="#pills-achievements">Previous</a>
                                            </li> {% endif %} {% for page_num in achievements.iter_pages() %} <li
                                                class="page-item {% if page_num == achievements.page %}active{% endif %}">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_achievements=page_num) }}"
                                                    data-target="#pills-achievements">{{ page_num }}</a>
                                            </li> {% endfor %} {% if achievements.has_next %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_achievements=achievements.next_num) }}"
                                                    data-target="#pills-achievements">Next</a>
                                            </li> {% endif %} </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <!-- section for media -->
                        <div id="media" class="content-section scrollable-section d-none">
                            <div class="card mb-3">
                                <div class="card-header">
                                    <h2>Manage Media <i class="fas fa-images"></i>
                                    </h2>
                                </div>
                                <div class="card-body">
                                    <div class="accordion mb-2" id="accordionExample">
                                        <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#collapseOne" aria-expanded="true"
                                                    aria-controls="collapseOne">
                                                    Add New Media
                                                </button>
                                            </h2>
                                            <div id="collapseOne" class="accordion-collapse collapse show"
                                                data-bs-parent="#accordionExample">
                                                <div class="accordion-body">
													<form method="post" action="{{ url_for('admin.create_media', section='media') }}"
														enctype="multipart/form-data">
														<div class="mb-3">
															<label for="title" class="form-label">Title</label>
															<input type="text" class="form-control" id="title" name="title" required>
														</div>
														<div class="mb-3">
															<label for="description" class="form-label">Description</label>
															<textarea class="form-control" id="description" name="description"
																required></textarea>
														</div>
														<div class="mb-3">
															<label for="file" class="form-label">Upload File</label>
															<input type="file" class="form-control" id="file" name="file" required>
														</div>
														<button type="submit" class="btn btn-primary">Add Media</button>
													</form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>                                    <!-- Display number of media to verify data passing -->
                                    <p>Number of media: {{ media_list.items|length }}</p>
                                    <!-- Media Table -->
                                    <div class="table-responsive mt-4">
                                        <table id="media-table" class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>Title</th>
                                                    <th>Description</th>
                                                    <th>File</th>
                                                    <th>Upload Date</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody> {% for media in media_list.items %} <tr id="mediaRow{{ media.id }}">
                                                    <td>{{ media.title }}</td>
                                                    <td>{{ media.description }}</td>
                                                    <td> {% if media.media_url %} <a href="{{ media.media_url }}"
                                                            target="_blank">{{ media.media_url }}</a> {% else %} N/A {%
                                                        endif %} </td>
                                                    <td>{{ media.upload_date }}</td>
                                                    <td>
                                                        <button type="button" class="btn btn-sm btn-primary"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#updateMediaModal{{ media.id }}"> Update
                                                        </button>
                                                        <form method="post"
                                                            action="{{ url_for('admin.delete_media', media_id=media.id, section='media') }}"
                                                            class="mt-2">
                                                            <button type="submit"
                                                                class="btn btn-sm btn-danger">Delete</button>
                                                        </form>
                                                    </td>
                                                </tr>
                                                <!-- Update Media Modal -->
                                                <div class="modal fade" id="updateMediaModal{{ media.id }}"
                                                    tabindex="-1" aria-labelledby="updateMediaModalLabel{{ media.id }}"
                                                    aria-hidden="true">
                                                    <div class="modal-dialog modal-dialog-centered">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title"
                                                                    id="updateMediaModalLabel{{ media.id }}">Update
                                                                    Media</h5>
                                                                <button type="button" class="btn-close"
                                                                    data-bs-dismiss="modal" aria-label="Close"></button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <form method="post"
                                                                    action="{{ url_for('admin.update_media', media_id=media.id, section='media') }}"
                                                                    enctype="multipart/form-data">
                                                                    <div class="mb-3">
                                                                        <label for="update-title"
                                                                            class="form-label">Title</label>
                                                                        <input type="text" class="form-control"
                                                                            id="update-title" name="title"
                                                                            value="{{ media.title }}" required>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="update-description"
                                                                            class="form-label">Description</label>
                                                                        <textarea class="form-control"
                                                                            id="update-description" name="description"
                                                                            required>{{ media.description }}</textarea>
                                                                    </div>
                                                                    <div class="mb-3">
                                                                        <label for="update-media-file"
                                                                            class="form-label">File</label>
                                                                        <input type="file" class="form-control"
                                                                            id="update-media-file" name="file">
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="btn btn-secondary"
                                                                            data-bs-dismiss="modal">Cancel</button>
                                                                        <button type="submit"
                                                                            class="btn btn-primary">Update
                                                                            Media</button>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div> {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- Pagination for media -->
                                    <nav>
                                        <ul class="pagination"> {% if media_list.has_prev %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_media=media_list.prev_num) }}"
                                                    data-target="#pills-media">Previous</a>
                                            </li> {% endif %} {% for page_num in media_list.iter_pages() %} <li
                                                class="page-item {% if page_num == media_list.page %}active{% endif %}">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_media=page_num) }}"
                                                    data-target="#pills-media">{{ page_num }}</a>
                                            </li> {% endfor %} {% if media_list.has_next %} <li class="page-item">
                                                <a class="page-link"
                                                    href="{{ url_for('admin.dashboard', page_media=media_list.next_num) }}"
                                                    data-target="#pills-media">Next</a>
                                            </li> {% endif %} </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <!-- section for statistiques -->
                        <div class="container-fluid scrollable-section">
                            <div class="row">
                                <div class="col-12">
                                    <div id="statistics" class="container-fluid content-section scrollable-section">
                                        <div class="row">
                                            <div class="col-6">
                                                <h3>Statistiques des réalisations</h3>
                                                <canvas id="myChart" width="800" height="400"></canvas>
                                            </div>
                                            <div class="col-6">
                                                <h3>Statistiques des événements</h3>
                                                <canvas id="eventChart" width="800" height="400"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col-12">
                    <!-- Section des présences aux événements -->
                    <div id="attendance" class="content-section scrollable-section">
                        <h3>Attendance Events</h3>
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Event</th>
                                        <th>Attendance Count</th>
                                        <th>Details</th>
                                    </tr>
                                </thead>
                                <tbody> {% for event in events.items %} <tr>
                                        <td>{{ event.name }}</td>
                                        <td>{{ attendance_counts[loop.index0] }}</td>
                                        <td>
                                            <ul> {% for attendance in event.attendances %} <li>{{ attendance.name }}
                                                    - {{ attendance.email }} - {{ attendance.phone }}</li> {% endfor
                                                %} </ul>
                                        </td>
                                    </tr> {% endfor %} </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<!-- Styles for the loader -->
<style>
    #loader {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.8);
        z-index: 1000;
    }

    #loader.active {
        display: block;
    }

    .spinner-border {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
</style>
<!-- Loader HTML -->
<div id="loader" class="text-center ">
    <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>
<script>
    // Define variables from Django template
    const achievementNames = {{ achievement_names| tojson }};
    const beneficiariesNumbers = {{ beneficiaries_numbers| tojson }};
    const eventNames = {{ event_names| tojson }};
    const attendanceCounts = {{ attendance_counts| tojson }};

    document.addEventListener('DOMContentLoaded', function () {
        // Premier graphique - Statistiques des réalisations
        const ctx1 = document.getElementById('myChart').getContext('2d');
        const myChart1 = new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: achievementNames,
                datasets: [{
                    label: 'Nombre de bénéficiaires',
                    data: beneficiariesNumbers,
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Deuxième graphique - Statistiques des événements
        const ctx2 = document.getElementById('eventChart').getContext('2d');
        const myChart2 = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: eventNames,
                datasets: [{
                    label: 'Participants par événement',
                    data: attendanceCounts,
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Handle Bootstrap Tab and localStorage logic
        var storedTab = localStorage.getItem('activeTab');
        if (storedTab) {
            var triggerEl = document.querySelector(`#pills-tab a[data-bs-target="${storedTab}"]`);
            if (triggerEl) {
                var tab = new bootstrap.Tab(triggerEl);
                tab.show();
                showSection(storedTab);
            }
        } else {
            var defaultTab = '#loader';
            var defaultTriggerEl = document.querySelector(`#pills-tab a[data-bs-target="${defaultTab}"]`);
            if (defaultTriggerEl) {
                var defaultTabInstance = new bootstrap.Tab(defaultTriggerEl);
                defaultTabInstance.show();
                showSection(defaultTab);
            }
        }

        var tabTriggerEls = document.querySelectorAll('#pills-tab a[data-bs-toggle="pill"]');
        tabTriggerEls.forEach(function (tabTriggerEl) {
            tabTriggerEl.addEventListener('show.bs.tab', function (event) {
                var target = event.target.getAttribute('data-bs-target');
                if (target === '#loader' && isFirstClick) {
                    isFirstClick = false; // Prevent further redirections
                    showLoaderAndSection(target);
                } else {
                    localStorage.setItem('activeTab', target);
                    showLoaderAndSection(target);
                }
            });
        });

        function showSection(target) {
            document.querySelectorAll('.content-section').forEach(function (section) {
                section.classList.add('d-none');
            });
            document.querySelector(target).classList.remove('d-none');
        }

        function showLoaderAndSection(target) {
            document.querySelector('#loader').classList.add('active');
            setTimeout(function () {
                document.querySelector('#loader').classList.remove('active');
                showSection(target);
            }, 185); // Simulate loading time
        }

        // Function for loading pagination data via Ajax
        function loadPage(url) {
            $.get(url, function (data) {
                $('#events-table').html($(data).find('#events-table').html());
                $('#achievements-table').html($(data).find('#achievements-table').html());
                $('#users-table').html($(data).find('#users-table').html());
                $('#news-table').html($(data).find('#news-table').html());
                $('#reports-table').html($(data).find('#reports-table').html());
                $('#media-table').html($(data).find('#media-table').html());
            });
        }

        // Handle click on pagination links
        $(document).on('click', '.pagination a.page-link', function (e) {
            e.preventDefault();
            var url = $(this).attr('href');
            loadPage(url);
        });

    });
</script>


{% endblock %}
